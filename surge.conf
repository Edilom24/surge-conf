#!MANAGED-CONFIG https://edilom24.github.io/surge-conf/surge.conf interval=43200 strict=true

[General]
dns-server = 119.29.29.29, 223.5.5.5
ipv6 = false
loglevel = notify
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, localhost, *.local
internet-test-url = http://connect.rom.miui.com/generate_204
proxy-test-url = http://www.gstatic.com/generate_204
test-timeout = 4
exclude-simple-hostnames = true
read-etc-hosts = true
show-error-page-for-reject = true
bypass-tun = false
disable-ipv6 = true

[Proxy]
US-Trojan = trojan, eddyrain.co, 49131, password=eddytrojan2025, tls=true, sni=eddyrain.co, skip-cert-verify=true, alpn=h3,h2,http/1.1
HK-Trojan = trojan, eddydesigns.store, 51364, password=eddytrojan2026, tls=true, sni=eddydesigns.store, skip-cert-verify=true, alpn=h3,h2,http/1.1

[Proxy Group]
EDDY-VPN = select, US-Trojan, HK-Trojan
US-Only = select, US-Trojan
HK-Only = select, HK-Trojan
Auto = fallback, HK-Trojan, US-Trojan

[Rule]
# US streaming services
DOMAIN-SUFFIX,hbomax.com,US-Only
DOMAIN-SUFFIX,hulu.com,US-Only
DOMAIN-SUFFIX,disneyplus.com,US-Only
DOMAIN-SUFFIX,peacocktv.com,US-Only
DOMAIN-SUFFIX,paramountplus.com,US-Only
DOMAIN-SUFFIX,crunchyroll.com,US-Only

# OpenAI / ChatGPT
DOMAIN-SUFFIX,openai.com,US-Only
DOMAIN-SUFFIX,chat.openai.com,US-Only
DOMAIN-KEYWORD,openai,US-Only

# YouTube
DOMAIN-SUFFIX,youtube.com,HK-Only
DOMAIN-KEYWORD,youtube,HK-Only
DOMAIN-SUFFIX,ytimg.com,HK-Only

# Optional: Direct Apple services (optional)
# DOMAIN-SUFFIX,apple.com,DIRECT
# DOMAIN-SUFFIX,icloud.com,DIRECT

# Fallback to Hong Kong server
MATCH,HK-Only

[Replica]
hide-apple-request = true
hide-crash-reporter-request = true
hide-udp = true

[URL Rewrite]
^http:\/\/www\.google\.cn https://www.google.com 302
